<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <link rel="stylesheet" href="style.css">
    <div class="nav-bar">
        <ul>
            <li><a href="/index.html">Home</a></li>
            <li><a href="/post.html">Post on the feed</a></li>
            <li><a href="/feed.html">Read the feed</a></li>
          </ul>
         </div>
  </head>
  <body>
      <form method="post" action="/posts">
          <input type="text" name="message" placeholder="Enter Cafe name" class="messageInput">
          <input type="text" name="author" placeholder="Add author" class="authorInput">
          <input type="text" name="image" placeholder="URL of image" class="imageInput">
          <input type="text" name="question" placeholder="What is your question?" class="questionInput">
          <input type="text" name="answer1" placeholder="Enter option 1" class="answer1Input">
          <input type="text" name="answer2" placeholder="Enter option 2" class="answer2Input">
          <input type="text" name="answer3" placeholder="Enter option 3" class="answer3Input">
          <input type="text" name="answer4" placeholder="Enter option 4" class="answer4Input">
          <button class ="postButton">Post it!</button>
      </form>
   <script>
        function sendMessageToServer(e) { document.querySelector(".note").innerHTML = "Thanks! Your message was saved!";
    e.preventDefault();
    let data = {};
    data.message = document.querySelector(".messageInput").value;
    data.author = document.querySelector(".authorInput").value;
    data.image = document.querySelector(".imageInput").value;
    data.question = document.querySelector(".questionInput").value;
    data.answer1 = document.querySelector(".answer1Input").value;
    data.answer2 = document.querySelector(".answer2Input").value;
    data.answer3 = document.querySelector(".answer3Input").value;
    data.answer4 = document.querySelector(".answer4Input").value;
    fetch("/posts", {
  method:"POST",
  body: JSON.stringify(data),
  headers: {'Content-Type': 'application/json'}
});

fetch("/answerChosen", {
  method:"POST",
  body: JSON.stringify(data),
  headers: {'Content-Type': 'application/json'}
});

}
document.querySelector(".postButton").addEventListener("click", sendMessageToServer);
    </script>
    <div class="note"></div>
  </body>
</html>
